<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Medieval Clicker</title>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
  <link rel="stylesheet" href="styles.css">
  <link rel="shortcut icon" type="image/x-icon" href="images/favicon.ico">
  <style>
    body {
      font-family: 'MedievalFont', serif;
      background-color: #3d1f4d; /* Purple background color */
      color: #f7dfc4;
      margin: 0;
      padding: 0;
    }

    .container {
      background-color: rgba(0, 0, 0, 0.6);
      border: 5px solid #543d22; /* Adjusted border color */
      padding: 20px;
      border-radius: 15px;
      box-shadow: 0 0 20px rgba(0, 0, 0, 0.6);
      margin-top: 50px;
    }

    .nav-pills .nav-link {
      font-size: 18px;
      padding: 10px 10px;
      background-color: #6a428c; /* Purple background for navigation */
      border-radius: 10px;
      border: none;
      color: #FFD700; /* Golden text color */
      margin: 5px;
    }

    .nav-pills .nav-link.active {
      background-color: #4b254e; /* Darker purple for active tab */
      color: #FFD700;
      font-weight: bold;
    }

    .upgrade {
      font-size: 18px;
      color: #f7dfc4;
      background-color: #6a428c; /* Purple upgrade button color */
      border: 2px solid #4b254e; /* Darker purple border */
      padding: 15px;
      margin-bottom: 10px;
      cursor: pointer;
      transition: background-color 0.3s, color 0.3s;
      border-radius: 10px;
    }

    .upgrade:hover {
      background-color: #4b254e;
      color: #ffcc00;
    }

    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.7);
      z-index: 1;
      align-items: center;
      justify-content: center;
    }

    .modal-content {
      background-color: #3d1f4d; /* Darker purple modal background color */
      color: #f7dfc4;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
      text-align: center;
    }

    .close {
      position: absolute;
      top: 10px;
      right: 10px;
      font-size: 24px;
      color: #f7dfc4;
      cursor: pointer;
    }

    .castle-image {
      border: 5px solid #573509;
      border-radius: 10px;
      max-width: 100%;
      height: auto;
    }
    
           /* Medieval-themed modern UI styles */
        body {
            font-family: 'MedievalFont', serif; /* Use your desired medieval font */
            background-color: #5a3921; /* Background color */
            color: #f4e4b5; /* Text color */
        }

        /* Container styles */
        .container {
            background-color: rgba(0, 0, 0, 0.8); /* Semi-transparent background */
            border: 5px solid #8a5c2e; /* Border color */
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.8); /* Box shadow */
        }

        /* Castle image styles */
        #castle {
            width: 200px;
            height: 200px;
            border: 2px solid #8a5c2e; /* Castle border color */
            background-color: #5a3921; /* Castle background color */
            padding: 10px;
            margin: 20px auto;
            display: block;
            border-radius: 10px;
            box-shadow: 5px 5px 10px rgba(0, 0, 0, 0.5); /* Castle box shadow */
        }

        /* Tab navigation styles */
        .nav-pills .nav-link {
            font-size: 18px;
            padding: 10px 20px;
            background-color: rgba(90, 57, 33, 0.8); /* Tab background color */
            border-radius: 0;
            border-top: 3px solid #8a5c2e; /* Tab top border color */
            border-bottom: 3px solid #3c1e0f; /* Tab bottom border color */
        }

        .nav-pills .nav-link.active {
            background-color: rgba(60, 30, 15, 0.8); /* Active tab background color */
            color: #ffcc00; /* Active tab text color */
            border-top: 3px solid #3c1e0f;
            border-bottom: 3px solid #8a5c2e;
        }

        /* Upgrade button styles */
        .upgrade {
            font-size: 18px;
            color: #f4e4b5; /* Button text color */
            background-color: rgba(90, 57, 33, 0.8); /* Button background color */
            border: 2px solid #8a5c2e; /* Button border color */
            padding: 10px;
            margin-bottom: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .upgrade:hover {
            background-color: rgba(60, 30, 15, 0.8); /* Button hover background color */


    @font-face {
      font-family: 'MedievalFont';
      src: url('https://raw.githubusercontent.com/largefort/medievalclicker/main/medievalfont.woff') format('woff');
    }
  </style>
</head>

<body>
  <div class="container">
    <div class="tab-content">
      <div class="tab-pane fade show active" id="castle-tab">
        <div class="text-center">
        <img id="castle" src="castle_wizard.jpg" alt="Castle" class="castle-image" onclick="clickCastle(event)">
          <div id="counter" class="mt-3">
            Deniers: 0
          </div>
          <div id="owned-upgrades" class="mt-3">
            <div>Knight: <span id="knight-count">0</span></div>
            <div>Archer: <span id="archer-count">0</span></div>
            <div>Wizard: <span id="wizard-count">0</span></div>
            <div>Paladin: <span id="paladin-count">0</span></div>
          </div>
        </div>
      </div>

      <div class="tab-pane fade" id="skilling-tab">
        <div class="text-center">
          <h2>Skilling</h2>
          <div class="upgrade" onclick="handleSkillingClick('woodcutting')">Woodcutting</div>
          <div class="upgrade" onclick="handleSkillingClick('mining')">Mining</div>
          <div class="mt-3">
            <div>Woodcutting Level: <span id="woodcutting-level">1</span></div>
            <div>Mining Level: <span id="mining-level">1</span></div>
          </div>
        </div>
      </div>

      <div class="tab-pane fade" id="shop-tab">
        <div class="text-center">
          <h2>Shop</h2>
          <div class="upgrade" onclick="buyUpgrade('knight')">Knight (<span id="knight-cost">10</span> Deniers)</div>
          <audio id="knight-upgrade-sound">
            <source src="upgradesound.mp3" type="audio/mp3">
            Your browser does not support the audio element.
          </audio>
          <div class="upgrade" onclick="buyUpgrade('archer')">Archer (<span id="archer-cost">25</span> Deniers)</div>
          <audio id="archer-upgrade-sound">
            <source src="upgradesound.mp3" type="audio/mp3">
            Your browser does not support the audio element.
          </audio>
          <div class="upgrade" onclick="buyUpgrade('wizard')">Wizard (<span id="wizard-cost">50</span> Deniers)</div>
          <audio id="wizard-upgrade-sound">
            <source src="upgradesound.mp3" type="audio/mp3">
            Your browser does not support the audio element.
          </audio>
          <div class="upgrade" onclick="buyUpgrade('paladin')">Paladin (<span id="paladin-cost">100</span> Deniers)</div>
          <audio id="paladin-upgrade-sound">
            <source src="upgradesound.mp3" type="audio/mp3">
            Your browser does not support the audio element.
          </audio>
        </div>
      </div>

      <div class="tab-pane fade" id="settings-tab">
        <div class="text-center">
          <h2>Settings</h2>
          <div class="form-check">
            <input type="checkbox" id="toggle-music"> <label for="toggle-music" class="form-check-label">Toggle Music</label>
          </div>
          <div class="form-check">
            <input type="checkbox" id="toggle-sfx"> <label for="toggle-sfx" class="form-check-label">Toggle Sound Effects</label>
          </div>
          <a href="https://idev.games/game/medieval-civilizations" target="_blank">
            <img src="idev.png" alt="idev.games image" width="100">
          </a>
        </div>
      </div>
    </div>

    <div class="nav nav-pills nav-fill fixed-bottom">
      <a class="nav-link active" data-toggle="pill" href="#castle-tab">Castle</a>
      <a class="nav-link" data-toggle="pill" href="#skilling-tab">Skilling</a>
      <a class="nav-link" data-toggle="pill" href="#shop-tab">Shop</a>
      <a class="nav-link" data-toggle="pill" href="#settings-tab">Settings</a>
    </div>
  </div>

  <button id="fullscreen-button" style="display: none;" onclick="autoEnterFullscreen()">Enter Fullscreen</button>

  <div id="easteregg-modal" class="modal">
    <div class="modal-content">
      <span class="close" onclick="closeEasterEggModal()">&times;</span>
      <h2>Thank You for Playing My Game!</h2>
      <p>Watch the special video message:</p>
      <iframe width="850" height="528" src="https://www.youtube.com/embed/4-2HxIjtJso" title="video message from the dev of Medieval Civilizations" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
    </div>
  </div>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/raphael/2.3.0/raphael.min.js"></script>
  <script src="script.js"></script>
  <script src="easteregg.js"></script>
  <audio id="medievaltheme" loop autoplay>
    <source src="medievalwizard.mp3" type="audio/mp3">
    Your browser does not support the audio element.
  </audio>
  <audio id="click-sound" src="click-sound.mp3" type="audio/mp3"></audio>
</body>
 function clickCastle(event) {
  var castle = document.getElementById('castle');
  var rect = castle.getBoundingClientRect();
  var centerX = rect.left + rect.width / 2;
  var centerY = rect.top + rect.height / 2;
  var mouseX = event.clientX;
  var mouseY = event.clientY;
  var angle = Math.atan2(mouseY - centerY, mouseX - centerX);
  var offsetX = Math.cos(angle) * 50; // Adjust the distance of the floating text from the center
  var offsetY = Math.sin(angle) * 50; // Adjust the distance of the floating text from the center

  var floatingText = document.createElement('div');
  floatingText.classList.add('animate__animated', 'animate__fadeOutUp');
  floatingText.id = 'floating-text';
  floatingText.style.left = mouseX + 'px';
  floatingText.style.top = mouseY + 'px';
  floatingText.textContent = '+1';
  document.body.appendChild(floatingText);
  setTimeout(function() {
    floatingText.remove();
  }, 4000); // Adjusted timeout to 4 seconds

  // Increment deniers count when clicking the castle
  var counterElement = document.getElementById('counter');
  var deniers = parseInt(counterElement.textContent.split(':')[1].trim());
  deniers++;
  counterElement.textContent = 'Deniers: ' + deniers;

  // Add a variable to control the frequency of floating text appearance
  var fastClicks = 3; // Number of fast clicks to show the floating text
  var clickCount = 0;
  var interval = setInterval(function() {
    clickCount++;
    if (clickCount >= fastClicks) {
      clearInterval(interval);
    }
    // Generate a new floating text for each fast click
    var floatingText = document.createElement('div');
    floatingText.classList.add('animate__animated', 'animate__fadeOutUp');
    floatingText.id = 'floating-text';
    floatingText.style.left = mouseX + 'px';
    floatingText.style.top = mouseY + 'px';
    floatingText.textContent = '+1';
    document.body.appendChild(floatingText);
    setTimeout(function() {
      floatingText.remove();
    }, 4000); // Adjusted timeout to 4 seconds
  }, 200); // Adjusted interval to 200 milliseconds for faster appearance
}
</html>

