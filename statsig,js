function updateStatsUI() {
    document.getElementById("stat-coins").textContent = compactNumberFormat(coins);
    document.getElementById("stat-knights").textContent = knightCount;
    document.getElementById("stat-archers").textContent = archerCount;
    document.getElementById("stat-wizards").textContent = wizardCount;
    document.getElementById("stat-paladins").textContent = paladinCount;
    document.getElementById("stat-pikemen").textContent = pikemanCount;
    document.getElementById("stat-crossbowmen").textContent = crossbowmanCount;
    document.getElementById("stat-catapults").textContent = catapultCount;
    document.getElementById("stat-mongol-horsemen").textContent = mongolHorsemanCount;
    document.getElementById("stat-woodcutting").textContent = woodcuttingLevel;
    document.getElementById("stat-mining").textContent = miningLevel;
    document.getElementById("stat-passive-income").textContent = compactNumberFormat(passiveIncome);

    // Calculate offline earnings since last save
    const currentTime = Date.now();
    const timeDifference = currentTime - lastSaveTime;
    const offlinePassiveIncome = Math.floor(passiveIncome * (timeDifference / 1000));
    document.getElementById("stat-offline-earnings").textContent = compactNumberFormat(offlinePassiveIncome);

    // Update date and time
    const now = new Date();
    document.getElementById("stat-date").textContent = now.getDate();
    document.getElementById("stat-time").textContent = now.toLocaleTimeString();
    document.getElementById("stat-month").textContent = now.toLocaleString('default', { month: 'long' });
    document.getElementById("stat-year").textContent = now.getFullYear();
    document.getElementById("stat-seconds").textContent = now.getSeconds();
}

function updateUI() {
    document.getElementById("counter").textContent = `Gold coins: ${compactNumberFormat(coins)}`;
    document.getElementById("knight-count").textContent = knightCount;
    document.getElementById("archer-count").textContent = archerCount;
    document.getElementById("wizard-count").textContent = wizardCount;
    document.getElementById("woodcutting-level").textContent = woodcuttingLevel;
    document.getElementById("mining-level").textContent = miningLevel;
    document.getElementById("paladin-count").textContent = paladinCount;
    document.getElementById("pikeman-count").textContent = pikemanCount;
    document.getElementById("crossbowman-count").textContent = crossbowmanCount;
    document.getElementById("catapult-count").textContent = catapultCount;
    document.getElementById("mongol-horseman-count").textContent = mongolHorsemanCount;
    document.getElementById("knight-purchase-count").textContent = knightCount;
    document.getElementById("archer-purchase-count").textContent = archerCount;
    document.getElementById("wizard-purchase-count").textContent = wizardCount;
    document.getElementById("paladin-purchase-count").textContent = paladinCount;
    document.getElementById("pikeman-purchase-count").textContent = pikemanCount;
    document.getElementById("crossbowman-purchase-count").textContent = crossbowmanCount;
    document.getElementById("catapult-purchase-count").textContent = catapultCount;
    document.getElementById("mongol-horseman-purchase-count").textContent = mongolHorsemanCount;
    updatePassiveIncome();
    updateUpgradeCosts();
    updateStatsUI(); // Call the new function to update the stats tab
}
